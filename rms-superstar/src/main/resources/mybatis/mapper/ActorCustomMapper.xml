<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.still.rms.superstar.dao.ActorCustomMapper">
  <resultMap id="BaseResultMap" type="com.still.rms.mbg.model.Actor">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <id column="id" jdbcType="INTEGER" property="id" />
    <result column="name" jdbcType="VARCHAR" property="name" />
    <result column="aliase" jdbcType="VARCHAR" property="aliase" />
    <result column="sex" jdbcType="INTEGER" property="sex" />
    <result column="country" jdbcType="VARCHAR" property="country" />
    <result column="birthdate" jdbcType="TIMESTAMP" property="birthdate" />
    <result column="debutdate" jdbcType="TIMESTAMP" property="debutdate" />
    <result column="height" jdbcType="INTEGER" property="height" />
    <result column="weight" jdbcType="INTEGER" property="weight" />
    <result column="cup" jdbcType="VARCHAR" property="cup" />
    <result column="threecircles" jdbcType="VARCHAR" property="threecircles" />
    <result column="star" jdbcType="INTEGER" property="star" />
    <result column="status" jdbcType="INTEGER" property="status" />
    <result column="image_path" jdbcType="VARCHAR" property="imagePath" />
    <result column="create_time" jdbcType="TIMESTAMP" property="createTime" />
    <result column="modify_time" jdbcType="TIMESTAMP" property="modifyTime" />
  </resultMap>
  <resultMap extends="BaseResultMap" id="ResultMapWithBLOBs" type="com.still.rms.mbg.model.Actor">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <result column="describe" jdbcType="LONGVARCHAR" property="describe" />
  </resultMap>

  <sql id="Base_Column_List">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    id, `name`, aliase, sex, country, birthdate, debutdate, height, weight, cup, threecircles,
    star, `status`, image_path, create_time, modify_time
  </sql>
  <sql id="Blob_Column_List">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    `describe`
  </sql>

  <sql id="Where">
    <where>
      <if test="id != null">
        AND id = #{id,jdbcType=INTEGER}
      </if>
      <if test="name != null">
        AND (`name` = #{name,jdbcType=VARCHAR} OR `aliase` like CONCAT('%',#{name,jdbcType=VARCHAR},'%'))
      </if>
      <if test="sex != null">
        AND `sex` = #{sex,jdbcType=INTEGER}
      </if>
      <if test="birthDateFrom != null">
        AND birthdate &gt;= #{birthDateFrom,jdbcType=TIMESTAMP}
      </if>
      <if test="birthDateTo != null">
        AND birthdate &lt;= #{birthDateTo,jdbcType=TIMESTAMP}
      </if>
      <if test="debutDateFrom != null">
        AND debutdate &gt;= #{debutDateFrom,jdbcType=TIMESTAMP}
      </if>
      <if test="debutDateTo != null">
        AND debutdate &lt;= #{debutDateTo,jdbcType=TIMESTAMP}
      </if>
      <if test="heightFrom != null">
        AND height &gt;= #{heightFrom,jdbcType=INTEGER}
      </if>
      <if test="heightTo != null">
        AND height &lt;= #{heightTo,jdbcType=INTEGER}
      </if>
      <if test="weightFrom != null">
        AND weight &gt;= #{weightFrom,jdbcType=INTEGER}
      </if>
      <if test="weightTo != null">
        AND weight &lt;= #{weightTo,jdbcType=INTEGER}
      </if>
      <if test="cup != null">
        AND cup = #{cup,jdbcType=VARCHAR}
      </if>
      <if test="threecircles != null">
        AND threecircles = #{threecircles,jdbcType=VARCHAR}
      </if>
      <if test="starFrom != null">
        AND star &gt;= #{starFrom,jdbcType=INTEGER}
      </if>
      <if test="starTo != null">
        AND star &lt;= #{starTo,jdbcType=INTEGER}
      </if>
      <if test="starTo != null">
        AND star &lt;= #{starTo,jdbcType=INTEGER}
      </if>
      <if test="status != null">
        AND `status` = #{status,jdbcType=INTEGER}
      </if>
      <if test="status == null">
        AND `status` = 1
      </if>
    </where>
  </sql>

  <select id="getActorsBySelective" resultType="com.still.rms.mbg.model.Actor">
    select
     *
    from actor
    <include refid="Where"></include>
  </select>

</mapper>